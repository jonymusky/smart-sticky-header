!function(t){var e=0;t.isSmartStickyHeader=function(e){return!!t(e).data("SmartStickyHeader")},t.SmartStickyHeader=function(i,n){function r(){setTimeout(function(){a(),setTimeout(k,10)},10)}function a(){p=d.offset(),f=d.outerWidth(),u=d.outerHeight(!0),h=t('<div id="'+S+'" class="'+n.railClass+'"></div>').css({top:0,padding:0,left:p.left+"px",width:f+"px",height:u+"px",overflow:"hidden",position:"fixed","pointer-events":"none"}),m=t('<div class="sticky-header-shadow"></div>').css({height:u+"px","pointer-events":"none"}),v=t('<div class="sticky-header-replacement"></div>').css({height:u+"px"}),d.before(v),d.before(h),h.append(d),h.append(m)}function o(){v.remove(),h.replaceWith(d)}function s(){return t("#"+S).length?!0:(l.off("scroll",k),l.off("resize",g),!1)}function c(t,e){function i(o){o===a?(t.apply(r,n),a=0):setTimeout(function(){i(a)},e)}var n,r,a=0;return function(){a++,n=Array.prototype.slice.call(arguments),r=this,1===a&&i(0)}}n=n||{},n.railClass=(n.railClass?n.railClass+" ":"")+"sticky-header-rail";var l=t(window),d=t(i);d.data("SmartStickyHeader",!0).css({"pointer-events":"all"});var f,u,p,h,v,m,y,S="ssh"+ ++e,k=function(){if(h&&s()){y=y||0;var e=Math.max(0,t(window).scrollTop()),i=e-y;y=e;var n=parseInt(d.css("margin-top")),r=h.scrollTop()+i;r=Math.max(Math.min(e,n),r),h.scrollTop(r)}},g=c(function(){o(),r()},500);r(),l.on("scroll",k),l.on("resize",g)},t.fn.smartStickyHeader=function(e){return this.each(function(){return t.SmartStickyHeader(this,e)})}}(jQuery);