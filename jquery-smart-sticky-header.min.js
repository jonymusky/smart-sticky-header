!function(t){var e=0;t.isSmartStickyHeader=function(e){return!!t(e).data("SmartStickyHeader")},t.SmartStickyHeader=function(i,n){function r(){setTimeout(function(){a(),setTimeout(g,10)},10)}function a(){p=f.offset(),d=f.outerWidth(),u=f.outerHeight(!0),h=t('<div id="'+S+'" class="'+n.railClass+'"></div>').css({top:0,padding:0,left:p.left+"px",width:d+"px",height:u+"px",overflow:"hidden",position:"fixed","pointer-events":"none"}),m=t('<div class="sticky-header-shadow"></div>').css({height:u+"px","pointer-events":"none"}),v=t('<div class="sticky-header-replacement"></div>').css({height:u+"px"}),f.before(v),f.before(h),h.append(f),h.append(m)}function o(){v.remove(),h.replaceWith(f)}function s(){return t("#"+S).length?!0:(l.off("scroll",g),l.off("resize",k),l.off("orientationchange",k),!1)}function c(t,e){function i(o){o===a?(t.apply(r,n),a=0):setTimeout(function(){i(a)},e)}var n,r,a=0;return function(){a++,n=Array.prototype.slice.call(arguments),r=this,1===a&&i(0)}}n=n||{},n.railClass=(n.railClass?n.railClass+" ":"")+"sticky-header-rail";var l=t(window),f=t(i);f.data("SmartStickyHeader",!0).css({"pointer-events":"all"});var d,u,p,h,v,m,y,S="ssh"+ ++e,g=function(){if(h&&s()){y=y||0;var e=Math.max(0,t(window).scrollTop()),i=e-y;y=e;var n=parseInt(f.css("margin-top")),r=h.scrollTop()+i;r=Math.max(Math.min(e,n),r),h.scrollTop(r)}},k=c(function(){o(),r()},500);r(),l.on("scroll",g),l.on("resize",k)},t.fn.smartStickyHeader=function(e){return this.each(function(){return t.SmartStickyHeader(this,e)})}}(jQuery);
